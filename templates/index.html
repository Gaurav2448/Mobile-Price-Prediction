<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mobile Price Prediction</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body style="background-color: #758694;">
    <div class="container mt-50">
        <div class="row">
            <div class="card " style="width: 100%; height:100%">
                <div class="card-header">
                    <div class="col-12">
                        <h1 style="color:#758694 ;"><b>Mobile Price Predictor</b></h1>
                    </div>
                </div>
                <div class="card-body">
                    <div class="col-12">
                        <h5>This app predicts the price of a mobile according to features. Try filling the details below: </h5>
                    </div>
                    <br>
                    <form id="predict-form" method="post" accept-charset="utf-8">

                        <div class="col-md-10 form-group">
                            <label for="company"><b>Select Company</b></label>
                            <select name="company" id="company" class="selectpicker form-control" required="true" >
                                <option disabled selected value> -- select company -- </option>
                                {% for company in companies%}
                                <option value="{{company}}">{{company}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="ram"><b>Select Ram(GB)</b></label>
                            <select name="ram" id="ram" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select ram -- </option>
                                {% for ram in Ram%}
                                <option value="{{ram}}">{{ram}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="battery"><b>Select Battery Power(W)</b></label>
                            <select name="battery" id="battery" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select battery power -- </option>
                                {% for bat in Battery%}
                                <option value="{{bat}}">{{bat}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="display"><b>Select Display size(inches)</b></label>
                            <select name="display" id="display" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select display size -- </option>
                                {% for disp in Display%}
                                <option value="{{disp}}">{{disp}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="memory"><b>Select Internal Memory(GB)</b></label>
                            <select name="memory" id="memory" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select internal memory -- </option>
                                {% for mem in memory%}
                                <option value="{{mem}}">{{mem}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="charger"><b>Select Charger(W)</b></label>
                            <select name="charger" id="charger" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select charger -- </option>
                                {% for ch in charger%}
                                <option value="{{ch}}">{{ch}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="resolution"><b>Select Screen resolution(px)</b></label>
                            <select name="resolution" id="resolution" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select screen resolution -- </option>
                                {% for res in resolution%}
                                <option value="{{res}}">{{res}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="processor"><b>Select Processor</b></label>
                            <select name="processor" id="processor" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select processor -- </option>
                                {% for pr in Processor%}
                                <option value="{{pr}}">{{pr}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="processorn"><b>Select Processor name</b></label>
                            <select name="processorn" id="processorn" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select processor name -- </option>
                                {% for prn in Processor_name%}
                                <option value="{{prn}}">{{prn}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="rear"><b>Select Rear Camera(Mp)</b></label>
                            <select name="rear" id="rear" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select rear camera -- </option>
                                {% for rr in rear_c%}
                                <option value="{{rr}}">{{rr}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="front"><b>Select Front Camera(Mp)</b></label>
                            <select name="front" id="front" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select front camera -- </option>
                                {% for fr in front_c%}
                                <option value="{{fr}}">{{fr}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="sim"><b>Select Number of sim</b></label>
                            <select name="sim" id="sim" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select no. of sim -- </option>
                                {% for Sim in no_of_sim%}
                                <option value="{{Sim}}">{{Sim}}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-10 form-group">
                            <label for="g"><b>Select 5G</b></label>
                            <select name="g" id="g" class="selectpicker form-control" required="true">
                                <option disabled selected value> -- select 5G -- </option>
                                {% for is_5g in Is_5G%}
                                <option value="{{is_5g}}">{{is_5g}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-10 form-group">
                            <button class="btn btn-secondary form-control" type="submit"><b>Predict Price</b></button>
                        </div>
                    </form>
                    <br>
                    <div class="row">
                        <div class="col-12">
                            <h3><span id="prediction"></span></h3>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script>
        function send_data(event){
            event.preventDefault();
            //console.log('Form submitted');
            var fd = new FormData(document.getElementById('predict-form'));
            //console.log(fd);
            var xhr = new XMLHttpRequest({mozSystem: true});
            xhr.open('POST', '/predict', true);
            document.getElementById('prediction').innerHTML = "Wait! Predicting Price...";

            xhr.onreadystatechange = function(){
                if(xhr.readyState == XMLHttpRequest.DONE){
                    document.getElementById('prediction').innerHTML = "Prediction: ₹" + xhr.responseText;
                }
            };
            xhr.send(fd);
        }

        document.getElementById('predict-form').addEventListener('submit', send_data);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>
